<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>サンプルサイト</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">

    <link href="../css/mystyle.css" rel="stylesheet">
  </head>

  <body class="text-center">

    <div class="cover-container d-flex h-100 p-3 mx-auto flex-column">
      <header class="masthead mb-auto">
        <div class="inner">
          <nav class="nav nav-masthead justify-content-center">
            <a class="nav-link" href="#" id="ja">日本語</a>
            <a class="nav-link" href="#" id="en">英語</a>
            <a class="nav-link" href="#" id="zh">中国語</a>
          </nav>
        </div>
      </header>

      
      <main role="main" class="inner cover">
        <h1 class="cover-heading" id="h1" glot-model="title">Sample Title</h1>
        <p class="lead" id="p" glot-model="text">I translate this text into various languages.</p>
      </main>

      <footer class="mastfoot mt-auto">
        <div class="inner">
          <p>2018 サンプルサイト</p>
        </div>
      </footer>
    </div>


    <script src="https://unpkg.com/glottologist"></script>
    <script>
      const h1 = document.getElementById('h1');
      const p = document.getElementById('p');
      const glot = new Glottologist();

      //Google翻訳を使って変換
      function setTranslation(lang) {
        glot.t(h1.textContent, lang).then( result => {
          h1.textContent = result;
        })

        glot.t(p.textContent, lang).then( result => {
          p.textContent = result;
        })
      }
      
      setTranslation('ja');
      
      
      
      
      /**
      **言語切り替え用のイベント処理
      **/
      const ja = document.getElementById('ja');
      const en = document.getElementById('en');
      const zh = document.getElementById('zh');

      ja.addEventListener('click', e => {
        e.preventDefault();
        setTranslation('ja');
      })
      
      en.addEventListener('click', e => {
        e.preventDefault()
        setTranslation('en');
      })
 
      zh.addEventListener('click', e => {
        e.preventDefault()
        setTranslation('zh');
      })

      
    </script>
  </body>
</html>
